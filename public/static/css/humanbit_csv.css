.csv-preview-container {
	border-bottom: 1px solid rgba(var(--tblr-primary-rgb), 0.1);
	max-height: 300px;
	overflow-y: scroll;
}

.csv-preview-container thead {
	position: sticky;
	top: 0;
	z-index: 10;
	background-color: var(--tblr-light);
	border-bottom: 2px solid rgba(var(--tblr-primary-rgb), 0.1);
}

.csv-header {
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	max-width: 200px;
	padding: 0.75rem !important;
	font-weight: 600;
	color: var(--tblr-primary);
	background-color: rgba(var(--tblr-primary-rgb), 0.05);
}

.csv-cell {
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	max-width: 200px;
	padding: 0.5rem 0.75rem !important;
}

/* Stile per i testi troncati con indicatore visivo migliorato */
.truncated-text {
	position: relative;
	cursor: pointer;
	border-bottom: 1px dotted rgba(var(--tblr-primary-rgb), 0.5);
	color: var(--tblr-primary);
	transition: all 0.2s ease;
	padding: 1px 3px;
	border-radius: 3px;
	background-color: rgba(var(--tblr-primary-rgb), 0.05);
	/* Impedisce la selezione del testo */
	user-select: none;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
}

.truncated-text:hover {
	background-color: rgba(var(--tblr-primary-rgb), 0.1);
	border-bottom: 1px solid var(--tblr-primary);
	box-shadow: 0 1px 3px rgba(var(--tblr-primary-rgb), 0.2);
}

/* Stile per l'elemento attivo */
.truncated-text-active {
	background-color: rgba(var(--tblr-primary-rgb), 0.2) !important;
	border-bottom: 1px solid var(--tblr-primary) !important;
	box-shadow: 0 1px 4px rgba(var(--tblr-primary-rgb), 0.3) !important;
	color: var(--tblr-primary-darker) !important;
	border-radius: 4px;
}

/* Tooltip per mostrare il contenuto completo */
.content-tooltip {
	position: absolute;
	display: none;
	background-color: var(--tblr-bg-surface);
	border: 1px solid rgba(var(--tblr-primary-rgb), 0.2);
	border-radius: 6px;
	padding: 10px 14px;
	z-index: 1000;
	max-width: 400px;
	box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
	font-size: 0.875rem;
	color: var(--tblr-body-color);
	word-break: break-word;
	white-space: normal;
	transform-origin: top left;
	opacity: 0;
	transform: scale(0.95);
	transition:
		opacity 0.2s ease,
		transform 0.2s ease;
}

.content-tooltip.show {
	opacity: 1;
	transform: scale(1);
}

/* Tabella di mapping migliorata */
.mapping-table {
	border-collapse: separate;
	border-spacing: 0;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.03);
	border-radius: 8px;
	overflow: hidden;
	border: 1px solid rgba(var(--tblr-primary-rgb), 0.1);
}

.mapping-table thead th {
	position: sticky;
	top: 0;
	z-index: 10;
	background-color: var(--tblr-light);
	font-weight: 600;
	color: var(--tblr-primary);
	border-bottom: 2px solid rgba(var(--tblr-primary-rgb), 0.1);
}

.mapping-row {
	transition: all 0.2s ease;
	border-bottom: 1px solid rgba(var(--tblr-primary-rgb), 0.05);
}

.mapping-row:nth-child(odd) {
	background-color: rgba(var(--tblr-primary-rgb), 0.01);
}

.mapping-row:hover {
	background-color: rgba(var(--tblr-primary-rgb), 0.01);
}

/* Stile per la cella del numero di indice */
.column-index-cell {
	width: 3%;
	padding: 0.5rem 0.25rem !important;
}

/* Stile fisso per il badge del numero di indice */
.column-index {
	padding: 0.25rem 0.4rem;
	font-size: 0.75rem;
	font-weight: 600;
	min-width: 1.5rem;
	display: inline-block;
}

/* Miglioramento della cella della colonna tabella */
.table-column {
	padding: 0.7rem 0.75rem !important;
	border-right: 1px solid rgba(var(--tblr-primary-rgb), 0.05);
}

/* Miglioramento della select box per il mapping */
.csv-field-select {
	border: 1px solid rgba(var(--tblr-primary-rgb), 0.2);
	border-radius: 5px;
	padding: 0.4rem 0.75rem;
	transition: all 0.2s ease;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.csv-field-select:focus {
	border-color: var(--tblr-primary);
	box-shadow: 0 0 0 0.25rem rgba(var(--tblr-primary-rgb), 0.15);
}

/* Evidenzio solo il testo interno */
.mapping-row .table-column .fw-medium.highlighted-field {
	background-color: rgba(var(--tblr-primary-rgb), 0.15);
	border-radius: 4px;
	font-weight: 700;
	color: var(--tblr-primary-darker);
	padding: 4px 8px;
	display: inline-block;
	position: relative;
	box-shadow: 0 0 8px rgba(var(--tblr-primary-rgb), 0.4);
	transform-origin: center;
	animation: pulse-highlight 2s infinite;
}

/* Card per Unique Field */
.unique-field-card {
	background-color: rgba(var(--tblr-primary-rgb), 0.02);
	border-radius: 8px;
	transition: all 0.2s ease;
}

.unique-field-card:hover {
	background-color: rgba(var(--tblr-primary-rgb), 0.05);
	box-shadow: 0 4px 12px rgba(var(--tblr-primary-rgb), 0.1);
}

/* Punti di domanda informativi - stile migliorato */
.mapping-info {
	display: none !important;
}

.mapping-info-warning {
	display: none !important;
}

.mapping-info-danger {
	display: none !important;
}

/* Tooltip per i punti di domanda */
.mapping-info::after {
	display: none !important;
}

.mapping-info-warning::after {
	display: none !important;
}

.mapping-info-danger::after {
	display: none !important;
}

.mapping-info:hover::after {
	display: none !important;
}

/* Colori per Auto-Map - sfondo fisso */
.field-mapping-select.mapping-match-exact {
	background-color: rgba(var(--tblr-success-rgb), 0.1) !important;
	border-color: rgba(var(--tblr-success-rgb), 0.7) !important;
	box-shadow: 0 0 0 0.25rem rgba(var(--tblr-success-rgb), 0.1) !important;
}

.field-mapping-select.mapping-match-similar {
	background-color: rgba(var(--tblr-warning-rgb), 0.1) !important;
	border-color: rgba(var(--tblr-warning-rgb), 0.7) !important;
	box-shadow: 0 0 0 0.25rem rgba(var(--tblr-warning-rgb), 0.1) !important;
}

.field-mapping-select.mapping-match-none {
	background-color: rgba(var(--tblr-danger-rgb), 0.1) !important;
	border-color: rgba(var(--tblr-danger-rgb), 0.7) !important;
	box-shadow: 0 0 0 0.25rem rgba(var(--tblr-danger-rgb), 0.1) !important;
}

/* Indicatori di tipo mapping */
.mapping-type-indicator {
	display: inline-block;
	padding: 2px 8px;
	border-radius: 3px;
	font-size: 0.7rem;
	font-weight: 400;
	line-height: 1.4;
	white-space: nowrap;
	transition: all 0.3s ease;
	opacity: 0;
	position: absolute;
	left: -190px;
	top: 50%;
	transform: translateY(-50%) scale(0.95);
	z-index: 5;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
	pointer-events: none;
	letter-spacing: 0.01em;
}

.mapping-type-indicator.show {
	opacity: 0.85;
	transform: translateY(-50%) scale(1);
}

.mapping-type-indicator i {
	margin-right: 3px;
	font-size: 0.65rem;
	opacity: 0.85;
}

.mapping-type-exact {
	background-color: rgba(var(--tblr-success-rgb), 0.12);
	color: rgba(0, 100, 0, 0.95);
	border: 1px solid rgba(var(--tblr-success-rgb), 0.2);
}

.mapping-type-similar {
	background-color: rgba(var(--tblr-warning-rgb), 0.12);
	color: rgba(140, 80, 0, 0.95);
	border: 1px solid rgba(var(--tblr-warning-rgb), 0.2);
}

.mapping-type-none {
	background-color: rgba(var(--tblr-danger-rgb), 0.12);
	color: rgba(165, 0, 0, 0.95);
	border: 1px solid rgba(var(--tblr-danger-rgb), 0.2);
}

.mapping-row:hover .mapping-type-indicator.hide-after-delay:not(.user-modified) {
	opacity: 0.85;
	transform: translateY(-50%) scale(1);
}

/* Overlay per Auto-Map */
.auto-map-overlay {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-color: rgba(0, 0, 0, 0.5);
	z-index: 9999;
	display: none;
	justify-content: center;
	align-items: center;
	overflow: hidden;
}

.auto-map-animation {
	background-color: white;
	padding: 2rem;
	border-radius: 8px;
	text-align: center;
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
	position: relative;
	z-index: 10;
	animation: float-animation 3s ease-in-out infinite;
}

@keyframes float-animation {
	0% {
		transform: translateY(0);
	}

	50% {
		transform: translateY(-7px);
	}

	100% {
		transform: translateY(0);
	}
}

.auto-map-animation i {
	font-size: 3rem;
	color: var(--tblr-primary);
	display: block;
	margin-bottom: 1rem;
	animation: rotate-icon 2.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

@keyframes rotate-icon {
	0% {
		transform: rotate(0deg) scale(1);
		color: var(--tblr-primary);
	}

	25% {
		transform: rotate(90deg) scale(1.1);
		color: #a178ff;
	}

	50% {
		transform: rotate(180deg) scale(1);
		color: #ff78a1;
	}

	75% {
		transform: rotate(270deg) scale(1.1);
		color: #78c0ff;
	}

	100% {
		transform: rotate(360deg) scale(1);
		color: var(--tblr-primary);
	}
}

.auto-map-animation span {
	font-size: 1.2rem;
	font-weight: 500;
}

/* Stile per il bottone Auto Map */
#auto-map-btn {
	margin-left: auto;
	box-shadow: 0 2px 5px rgba(var(--tblr-primary-rgb), 0.2);
	transition: all 0.2s ease;
	font-weight: 500;
}

#auto-map-btn:hover {
	box-shadow: 0 3px 8px rgba(var(--tblr-primary-rgb), 0.3);
}

#auto-map-btn i {
	font-size: 1.1rem;
}

/* Effetto stelline che cadono - MIGLIORATO */
.stars-container {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	overflow: hidden;
	pointer-events: none;
	z-index: 5;
}

.star {
	position: absolute;
	width: 10px;
	height: 10px;
	background-size: contain;
	background-repeat: no-repeat;
	animation: falling-star-improved 2s linear infinite;
	opacity: 0;
	filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.9));
	z-index: 100;
}

/* Stelle con diverse dimensioni ma tutti luminose */
.star:nth-child(3n + 1) {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffffff'><path d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21 12 17.27z'/></svg>");
	width: 14px;
	height: 14px;
	animation-duration: 1.5s;
}

.star:nth-child(3n + 2) {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f8f9fa'><path d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21 12 17.27z'/></svg>");
	width: 8px;
	height: 8px;
	filter: drop-shadow(0 0 12px rgba(255, 255, 255, 1));
	animation-duration: 1.2s;
}

.star:nth-child(3n) {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffefcf'><path d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21 12 17.27z'/></svg>");
	width: 12px;
	height: 12px;
	filter: drop-shadow(0 0 15px rgba(255, 246, 211, 1));
	animation-duration: 1.8s;
}

/* Stelle cadenti con scia luminosa */
.star:nth-child(5n)::before {
	content: "";
	position: absolute;
	top: 50%;
	left: 50%;
	width: 2px;
	height: 25px;
	background: linear-gradient(to top, transparent, rgba(255, 255, 255, 0.7));
	transform: translate(-50%, -50%) rotate(15deg);
	transform-origin: bottom center;
	z-index: -1;
	opacity: 0.7;
	filter: blur(1.5px);
	border-radius: 50%;
}

/* Aggiungiamo stelle scintillanti statiche */
.star:nth-child(even) {
	animation:
		falling-star-improved 2s linear infinite,
		twinkle 1s ease-in-out infinite alternate;
}

@keyframes falling-star-improved {
	0% {
		top: -10%;
		transform: translateX(5px) rotate(0deg) scale(1);
		opacity: 0;
	}

	5% {
		opacity: 1;
	}

	80% {
		opacity: 0.9;
	}

	100% {
		top: 110%;
		transform: translateX(-10px) rotate(360deg) scale(0.3);
		opacity: 0;
	}
}

/* Stelline minuscole e velocissime */
.tiny-star {
	position: absolute;
	width: 4px;
	height: 4px;
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffffff'><path d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21 12 17.27z'/></svg>");
	background-size: contain;
	background-repeat: no-repeat;
	animation: tiny-falling-star 1s linear infinite;
	opacity: 0.9;
	filter: drop-shadow(0 0 6px rgba(255, 255, 255, 1));
	z-index: 90;
}

/* Posizioni diverse per ogni stella */
.star:nth-child(1) {
	left: 5%;
	animation-delay: 0s;
}

.star:nth-child(2) {
	left: 15%;
	animation-delay: 0.3s;
}

.star:nth-child(3) {
	left: 25%;
	animation-delay: 0.6s;
}

.star:nth-child(4) {
	left: 35%;
	animation-delay: 0.9s;
}

.star:nth-child(5) {
	left: 45%;
	animation-delay: 1.2s;
}

.star:nth-child(6) {
	left: 55%;
	animation-delay: 1.5s;
}

.star:nth-child(7) {
	left: 65%;
	animation-delay: 1.8s;
}

.star:nth-child(8) {
	left: 75%;
	animation-delay: 2.1s;
}

.star:nth-child(9) {
	left: 85%;
	animation-delay: 0.4s;
}

.star:nth-child(10) {
	left: 95%;
	animation-delay: 0.7s;
}

.star:nth-child(11) {
	left: 10%;
	animation-delay: 0.5s;
}

.star:nth-child(12) {
	left: 20%;
	animation-delay: 0.2s;
}

.star:nth-child(13) {
	left: 30%;
	animation-delay: 0.8s;
}

.star:nth-child(14) {
	left: 40%;
	animation-delay: 0.6s;
}

.star:nth-child(15) {
	left: 50%;
	animation-delay: 0.9s;
}

.star:nth-child(16) {
	left: 60%;
	animation-delay: 0.2s;
}

.star:nth-child(17) {
	left: 70%;
	animation-delay: 0.5s;
}

.star:nth-child(18) {
	left: 80%;
	animation-delay: 0.8s;
}

.star:nth-child(19) {
	left: 90%;
	animation-delay: 0.4s;
}

.star:nth-child(20) {
	left: 97%;
	animation-delay: 0.1s;
}

/* Posizioni diverse per ogni stellina */
.tiny-star:nth-child(3n + 1) {
	left: calc(10% + var(--random-offset, 0%));
	--random-offset: 2%;
	animation-duration: 0.8s;
}

.tiny-star:nth-child(3n + 2) {
	left: calc(50% + var(--random-offset, 0%));
	--random-offset: -5%;
	animation-duration: 0.6s;
}

.tiny-star:nth-child(3n) {
	left: calc(80% + var(--random-offset, 0%));
	--random-offset: 3%;
	animation-duration: 1s;
}

/* Alternare i ritardi per le stelline */
.tiny-star:nth-child(1) {
	animation-delay: 0s;
}

.tiny-star:nth-child(2) {
	animation-delay: 0.1s;
}

.tiny-star:nth-child(3) {
	animation-delay: 0.2s;
}

.tiny-star:nth-child(4) {
	animation-delay: 0.3s;
}

.tiny-star:nth-child(5) {
	animation-delay: 0.4s;
}

.tiny-star:nth-child(6) {
	animation-delay: 0.5s;
}

.tiny-star:nth-child(7) {
	animation-delay: 0.6s;
}

.tiny-star:nth-child(8) {
	animation-delay: 0.7s;
}

.tiny-star:nth-child(9) {
	animation-delay: 0.15s;
}

.tiny-star:nth-child(10) {
	animation-delay: 0.25s;
}

.tiny-star:nth-child(11) {
	animation-delay: 0.35s;
}

.tiny-star:nth-child(12) {
	animation-delay: 0.45s;
}

.tiny-star:nth-child(13) {
	animation-delay: 0.55s;
}

.tiny-star:nth-child(14) {
	animation-delay: 0.65s;
}

.tiny-star:nth-child(15) {
	animation-delay: 0.75s;
}

@keyframes tiny-falling-star {
	0% {
		top: -5%;
		transform: translateX(2px) rotate(0deg);
		opacity: 0.9;
	}

	100% {
		top: 105%;
		transform: translateX(-2px) rotate(180deg);
		opacity: 0;
	}
}

/* Effetto polvere magica migliorato - RIMOSSO */
.auto-map-animation::before {
	content: none;
	animation: none;
}

@keyframes magic-dust {
	0%,
	25%,
	50%,
	75%,
	100% {
		box-shadow: none;
		background-image: none;
	}
}

@keyframes popInQuestion {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 0;
	}
}

@keyframes pulseQuestion {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 0;
	}
}

/* Stile per la riga mappatura evidenziata come unique field */
.mapping-row.unique-field-row {
	background-color: transparent;
	border-left: none;
	transition: none;
}

.mapping-row.unique-field-row:hover {
	background-color: rgba(var(--tblr-primary-rgb), 0.01);
}

.mapping-row.unique-field-row .table-column {
	color: inherit;
	font-weight: normal;
}

/* Evidenzio solo il testo interno con un effetto pi√π compatto */
.mapping-row .table-column .fw-medium.highlighted-field {
	background-color: rgba(var(--tblr-primary-rgb), 0.12);
	border-radius: 3px;
	font-weight: 500;
	color: var(--tblr-primary);
	padding: 2px 6px 2px 6px;
	display: inline-block;
	position: relative;
	box-shadow: 0 0 5px rgba(var(--tblr-primary-rgb), 0.3);
	transform-origin: center;
	animation: pulse-highlight 2s infinite;
}

/* Aggiungo un'icona per il campo unique */
.mapping-row .table-column .fw-medium.highlighted-field::after {
	content: "\f084";
	/* Codice icona chiave */
	font-family: "Line Awesome Free";
	font-weight: 900;
	position: absolute;
	top: -6px;
	right: -10px;
	background-color: var(--tblr-primary);
	color: white;
	border-radius: 50%;
	font-size: 0.7rem;
	width: 18px;
	height: 18px;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
	animation: unique-icon-pulse 2s infinite;
	z-index: 2;
	padding: 2px;
}

@keyframes unique-icon-pulse {
	0% {
		transform: scale(1);
	}

	50% {
		transform: scale(1.2);
	}

	100% {
		transform: scale(1);
	}
}

@keyframes pulse-highlight {
	0% {
		background-color: rgba(var(--tblr-primary-rgb), 0.12);
		box-shadow: 0 0 5px rgba(var(--tblr-primary-rgb), 0.3);
		transform: scale(1);
	}

	50% {
		background-color: rgba(var(--tblr-primary-rgb), 0.2);
		box-shadow: 0 0 7px rgba(var(--tblr-primary-rgb), 0.4);
		transform: scale(1.03);
	}

	100% {
		background-color: rgba(var(--tblr-primary-rgb), 0.12);
		box-shadow: 0 0 5px rgba(var(--tblr-primary-rgb), 0.3);
		transform: scale(1);
	}
}

/* Aggiungi un bordo e un'animazione al campo unique field quando viene selezionato */
.unique-field-focus {
	animation: focus-pulse 2s 1;
}

@keyframes focus-pulse {
	0% {
		box-shadow: 0 0 0 0 rgba(var(--tblr-primary-rgb), 0.7);
	}

	50% {
		box-shadow: 0 0 0 10px rgba(var(--tblr-primary-rgb), 0);
	}

	100% {
		box-shadow: 0 0 0 0 rgba(var(--tblr-primary-rgb), 0);
	}
}

/* Container per il posizionamento relativo */
.csv-actions-container {
	position: relative;
	display: inline-block;
}

/* Stile del popup */
.csv-popup {
	display: none;
	position: absolute;
	top: 0;
	right: calc(100% + 5px);
	min-width: 180px;
	background-color: white;
	border-radius: 4px;
	box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
	z-index: 1060;
	overflow: hidden;
	transform-origin: right center;
}

/* Popup visibile */
.csv-popup.visible {
	display: block;
}

/* Header del popup */
.csv-popup-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 8px 12px;
	border-bottom: 1px solid #e9ecef;
	background-color: #f8f9fa;
}

.csv-popup-header h5 {
	margin: 0;
	font-size: 0.9rem;
	font-weight: 600;
}

.csv-popup-close {
	background: transparent;
	border: none;
	font-size: 1.2rem;
	line-height: 1;
	padding: 0;
	cursor: pointer;
	opacity: 0.6;
	transition: opacity 0.2s;
}

.csv-popup-close:hover {
	opacity: 1;
}

/* Corpo del popup */
.csv-popup-body {
	padding: 12px;
}

/* Stile per il bottone disabilitato */
.disabled-import-btn {
	opacity: 0.65;
	cursor: not-allowed !important;
	position: relative;
	background-color: rgba(var(--tblr-danger-rgb), 0.2) !important;
	border-color: rgba(var(--tblr-danger-rgb), 0.5) !important;
	color: var(--tblr-danger-darken) !important;
}

.disabled-import-btn:hover {
	box-shadow: none !important;
	background-color: rgba(var(--tblr-danger-rgb), 0.3) !important;
}

.disabled-import-btn i {
	opacity: 0.5;
}

@keyframes warning-pulse {
	0%,
	100% {
		opacity: 0.5;
		transform: scale(1);
	}
	50% {
		opacity: 1;
		transform: scale(1.2);
	}
}

/* Animazione del popup in apertura */
@keyframes scaleIn {
	0% {
		opacity: 0;
		transform: scale(0.95) translateX(8px);
	}

	30% {
		opacity: 0.8;
	}

	100% {
		opacity: 1;
		transform: scale(1) translateX(0);
	}
}

/* Animazione del popup in chiusura */
@keyframes scaleOut {
	0% {
		opacity: 1;
		transform: scale(1) translateX(0);
	}

	100% {
		opacity: 0;
		transform: scale(0.95) translateX(5px);
	}
}

.csv-popup.animate-in {
	animation: scaleIn 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

.csv-popup.animate-out {
	animation: scaleOut 0.2s ease-out forwards;
}

/* Contenitore dei bottoni */
.csv-buttons {
	display: flex;
	gap: 8px;
	justify-content: center;
}

/* Effetto hover per i bottoni */
.csv-buttons .btn:not([disabled]) {
	transition: all 0.2s ease;
}

.csv-buttons .btn:not([disabled]):hover {
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* Stili per l'importazione CSV */
.import-card {
	box-shadow: 0 4px 12px rgba(var(--tblr-primary-rgb), 0.1);
	border: none;
	border-radius: 8px;
	overflow: hidden;
	transition: all 0.3s ease;
}

.import-card:hover {
	box-shadow: 0 6px 16px rgba(var(--tblr-primary-rgb), 0.15);
}

.import-form {
	padding: 1rem 0.5rem;
}

.import-label {
	display: flex;
	align-items: center;
	font-weight: 600;
	color: var(--tblr-body-color);
	margin-bottom: 0.75rem;
}

.import-label i {
	margin-right: 0.5rem;
	color: var(--tblr-primary);
}

.csv-upload-container {
	margin-top: 1.5rem;
}

.custom-file-upload {
	position: relative;
	width: 100%;
	min-height: 150px;
	border: 2px dashed rgba(var(--tblr-primary-rgb), 0.3);
	border-radius: 8px;
	display: flex;
	justify-content: center;
	align-items: center;
	overflow: hidden;
	transition: min-height 0.25s ease-out;
	background-color: rgba(var(--tblr-primary-rgb), 0.03);
	cursor: pointer;
}

.custom-file-upload.has-file {
	min-height: 60px;
}

.custom-file-upload:hover {
	border-color: var(--tblr-primary);
	background-color: rgba(var(--tblr-primary-rgb), 0.05);
}

.custom-file-upload.highlight {
	border-color: var(--tblr-primary);
	background-color: rgba(var(--tblr-primary-rgb), 0.08);
	box-shadow: 0 0 0 0.25rem rgba(var(--tblr-primary-rgb), 0.15);
}

.csv-file-input {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	opacity: 0;
	cursor: pointer;
	z-index: 2;
}

.file-upload-placeholder {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	padding: 2rem;
	text-align: center;
	color: var(--tblr-muted);
	width: 100%;
	height: 100%;
	transition: opacity 0.2s ease;
}

.file-upload-placeholder i {
	font-size: 2.5rem;
	margin-bottom: 1rem;
	color: rgba(var(--tblr-primary-rgb), 0.5);
}

.selected-file {
	display: flex;
	align-items: center;
	width: 100%;
	padding: 1rem;
	background-color: rgba(var(--tblr-primary-rgb), 0.08);
	border-radius: 6px;
	transition: opacity 0.2s ease;
}

.selected-file i {
	font-size: 1.5rem;
	margin-right: 0.75rem;
	color: var(--tblr-primary);
}

.selected-file span {
	flex: 1;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	font-weight: 500;
}

.btn-remove-file {
	background: none;
	border: none;
	color: var(--tblr-danger);
	font-size: 1.25rem;
	padding: 0.25rem;
	cursor: pointer;
	transition: all 0.2s ease;
	z-index: 3;
	/* Assicura che il pulsante sia al di sopra del file input */
	position: relative;
}

.btn-remove-file:hover {
	color: var(--tblr-danger);
	transform: scale(1.1);
}

.btn-remove-file::before {
	content: "";
	position: absolute;
	top: -10px;
	right: -10px;
	bottom: -10px;
	left: -10px;
	z-index: -1;
}

.csv-requirements {
	display: flex;
	align-items: center;
	margin-top: 0.75rem;
	margin-right: 0.5rem;
	font-size: 0.9rem;
	color: var(--color-hint);
}

.import-form-actions {
	display: flex;
	justify-content: space-between;
	padding-top: 1rem;
	border-top: 1px solid rgba(var(--tblr-primary-rgb), 0.1);
	margin-top: 2rem;
}

.import-submit-btn,
.import-cancel-btn {
	display: flex;
	align-items: center;
	padding: 0.5rem 1.25rem;
	transition: all 0.3s ease;
}

.import-submit-btn {
	order: 2;
}

/* Stile per i campi obbligatori */
.required-field-badge {
	margin-left: 0.5rem;
	font-size: 0.7rem;
	font-weight: 500;
	padding: 0.2rem 0.4rem;
	vertical-align: middle;
}

/* Stile base per i campi obbligatori - sottile bordo sinistro rosso */
.required-field-select {
	border-left: 3px solid rgba(var(--tblr-danger-rgb), 0.4);
}

.required-field-select:focus {
	border-color: var(--tblr-primary);
	box-shadow: 0 0 0 0.25rem rgba(var(--tblr-primary-rgb), 0.15);
}

/* Stile per i campi obbligatori quando sono invalidi */
.required-field-select.is-invalid {
	border-color: var(--tblr-danger);
	border-left: 3px solid var(--tblr-danger);
	box-shadow: 0 0 0 0.25rem rgba(var(--tblr-danger-rgb), 0.25);
	background-color: rgba(var(--tblr-danger-rgb), 0.05);
	animation: pulse-error 2s ease-in-out;
}

@keyframes pulse-error {
	0%,
	100% {
		box-shadow: 0 0 0 0 rgba(var(--tblr-danger-rgb), 0.6);
	}
	50% {
		box-shadow: 0 0 0 0.5rem rgba(var(--tblr-danger-rgb), 0);
	}
}

/* Stile per le righe con campi obbligatori invalidi */
.mapping-row.has-invalid-field {
	background-color: rgba(var(--tblr-danger-rgb), 0.08);
}

.mapping-row.has-invalid-field:hover {
	background-color: rgba(var(--tblr-danger-rgb), 0.12);
}

/* Import behavior options styles - Moved from import_mapping.blade.php */
#import-behavior-options {
	opacity: 0;
	transform: translateY(-10px);
	transition:
		opacity 0.3s ease,
		transform 0.3s ease;
}

#import-behavior-options.fade-in {
	opacity: 1;
	transform: translateY(0);
}

/* Stile migliorato per i radio button a forma di bottoni */
.import-behavior-radios .form-check {
	padding-left: 0;
	margin-bottom: 12px;
	border-radius: 8px;
	transition: all 0.2s ease;
	position: relative;
}

.import-behavior-radios .form-check-input {
	position: absolute;
	opacity: 0;
	cursor: pointer;
	height: 0;
	width: 0;
}

.import-behavior-radios .form-check-label {
	display: block;
	padding: 12px 15px 12px 45px;
	border: 1px solid rgba(var(--tblr-primary-rgb), 0.2);
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.2s ease;
	background-color: transparent; /* Rimozione dello sfondo che causava il doppio effetto */
	position: relative;
	font-weight: normal; /* Normal by default */
}

.import-behavior-radios .form-check-label:hover {
	background-color: rgba(var(--tblr-primary-rgb), 0.08);
	border-color: rgba(var(--tblr-primary-rgb), 0.3);
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* Icona ingrandita e posizionata a sinistra */
.import-behavior-radios .form-check-label i {
	position: absolute;
	left: 15px;
	top: 50%;
	transform: translateY(-50%);
	font-size: 1.3rem;
	transition: all 0.2s ease;
}

/* Stile per i radio button selezionati */
.import-behavior-radios .form-check-input:checked + .form-check-label {
	background-color: rgba(var(--tblr-primary-rgb), 0.12);
	border-color: var(--tblr-primary);
	box-shadow: 0 2px 5px rgba(var(--tblr-primary-rgb), 0.2);
	font-weight: 600 !important; /* Bold when selected */
}

/* Effetto pulse per l'icona del radio selezionato */
.import-behavior-radios .form-check-input:checked + .form-check-label i {
	animation: radio-icon-pulse 2s infinite;
	color: var(--tblr-primary);
}

@keyframes radio-icon-pulse {
	0% {
		transform: translateY(-50%) scale(1);
	}
	50% {
		transform: translateY(-50%) scale(1.15);
	}
	100% {
		transform: translateY(-50%) scale(1);
	}
}

/* Miglioramento per il testo secondario */
.import-behavior-radios .form-check-label small {
	margin-top: 4px;
	opacity: 0.8;
}

/* Flash effect for radio buttons to draw attention */
.flash-highlight {
	animation: flash-animation 1.5s ease;
}

@keyframes flash-animation {
	0%,
	100% {
		background-color: transparent;
	}
	20%,
	80% {
		background-color: rgba(var(--tblr-primary-rgb), 0.15);
	}
}

.preview-csv-body {
	overflow-y: hidden;
	max-height: 600px;
}

/* Stili per il log delle operazioni di importazione */
#operation-log {
	transition: all 0.3s ease;
	line-height: 1.5;
}

#operation-log .log-entry {
	margin-bottom: 2px;
	padding-bottom: 4px;
	border-bottom: 1px dashed rgba(var(--tblr-primary-rgb), 0.1);
	animation: fadeInLog 0.3s ease-in-out;
}

@keyframes fadeInLog {
	from {
		opacity: 0;
		transform: translateY(-5px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Indicatore operazione corrente con animazione pulse */
#current-operation-box {
	transition: all 0.3s ease;
	border-left: 3px solid var(--tblr-primary) !important;
}

.pulse-animation {
	animation: currentOpPulse 1s ease-in-out;
}

@keyframes currentOpPulse {
	0% {
		transform: scale(1);
		box-shadow: 0 0 0 0 rgba(var(--tblr-primary-rgb), 0.5);
	}
	50% {
		transform: scale(1.02);
		box-shadow: 0 0 0 5px rgba(var(--tblr-primary-rgb), 0);
	}
	100% {
		transform: scale(1);
		box-shadow: 0 0 0 0 rgba(var(--tblr-primary-rgb), 0);
	}
}
