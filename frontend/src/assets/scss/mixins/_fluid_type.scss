// See https://css-tricks.com/snippets/css/fluid-typography/

// >>> Controllers — START
@use "../controllers/functions" as *; // controllers for functions
// <<<<< Controllers — END

// The equation
//
// body {
// 	font-size: calc([minimum size] + ([maximum size] - [minimum size]) * ((100vw - [minimum viewport width]) / ([maximum viewport width] - [minimum viewport width])));
// }

// The mixin
//
// @use "sass:math";
//
// See https://stackoverflow.com/questions/12328259/how-do-you-strip-the-unit-from-any-number-in-sass
// @function strip-unit($value) {
// 	@return math.div($value, ($value * 0 + 1));
// }

@mixin fluid_type(
	// >>>>> VIEWPORT <<<<<
	$viewport-min: 20em, // (320px)
	// Set global values
	$viewport-max: 100em, // (1600px)
	// Set global values
	// >>>>> MOBILE <<<<<
	$font-size-min: null,
	$line-height-mobile: null,
	// >>>>> DESKTOP <<<<<
	$font-size-max: null,
	$line-height-desktop: null,
	// >>>>> IMPORTANT <<<<<
	$important: null
) {
	// $u1: unit($viewport-min);
	// $u2: unit($viewport-max);
	// $u3: unit($font-size-min);
	// $u4: unit($font-size-max);

	// @if $u1 == $u2 and $u1 == $u3 and $u1 == $u4 {
	// 	& {
	@media (max-width: 319.98px) {
		font-size: $font-size-min #{$important};
		line-height: $line-height-mobile #{$important};
	}

	@media (min-width: $viewport-min) and (max-width: 575.98px) {
		font-size: clamp(
			#{$font-size-min},
			calc(
				#{$font-size-min} + ((#{strip-unit($font-size-max)} - #{strip-unit($font-size-min)}) *
				(((100vw - #{$viewport-min}) / (#{strip-unit($viewport-max)} - #{strip-unit($viewport-min)})) * 2))
			),
			#{$font-size-max}
		) #{$important};
		line-height: #{$line-height-mobile} #{$important};
	}

	@media (min-width: 576px) and (max-width: calc(#{$viewport-max} - 0.02px)) {
		font-size: clamp(
			#{$font-size-min},
			calc(
				#{$font-size-min} + ((#{strip-unit($font-size-max)} - #{strip-unit($font-size-min)}) *
				(((100vw - #{$viewport-min}) / (#{strip-unit($viewport-max)} - #{strip-unit($viewport-min)})) * 1))
			),
			#{$font-size-max}
		) #{$important};
		line-height: #{$line-height-desktop} #{$important};
	}

	@media (min-width: $viewport-max) {
		font-size: $font-size-max #{$important};
		line-height: $line-height-desktop #{$important};
	}
}

// The formula
//
// @include fluid_type($min_width, $max_width, $mob_multi, $desk_multi, $min_font, $max_font);
// $min_width: 20em;
// $max_width: 100em;
// $mob_multi: 1.5;
// $desk_multi: 1.2;

// h1,
// .h1 {
// 	@include fluid_type($min_width, $max_width, $mob_multi, $desk_multi, 1.73rem, 2.5rem);
// }

// h2,
// .h2 {
// 	@include fluid_type($min_width, $max_width, $mob_multi, $desk_multi, 1.54rem, 2rem);
// }

// h3,
// .h3 {
// 	@include fluid_type($min_width, $max_width, $mob_multi, $desk_multi, 1.44rem, 1.75rem);
// }

// h4,
// .h4 {
// 	@include fluid_type($min_width, $max_width, $mob_multi, $desk_multi, 1.35rem, 1.5rem);
// }

// h5,
// .h5 {
// 	@include fluid_type($min_width, $max_width, $mob_multi, $desk_multi, 1.25rem, 1.25rem);
// }

// h6,
// .h6 {
// 	@include fluid_type($min_width, $max_width, $mob_multi, $desk_multi, 1rem, 1rem);
// }

// p,
// .p {
// 	@include fluid_type($min_width, $max_width, $mob_multi, $desk_multi, 1rem, 1rem);
// }

// small,
// .small {
// 	@include fluid_type($min_width, $max_width, $mob_multi, $desk_multi, 0.875rem, 0.875rem);
// }
